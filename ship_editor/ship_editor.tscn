[gd_scene load_steps=16 format=1]

[ext_resource path="res://ship_editor/ship_editor.gd" type="Script" id=1]
[ext_resource path="res://ship_editor/grid.gd" type="Script" id=2]
[ext_resource path="res://ship_editor/cursor.png" type="Texture" id=3]
[ext_resource path="res://ship_editor/grid.png" type="Texture" id=4]
[ext_resource path="res://ui/button_list.tscn" type="PackedScene" id=5]
[ext_resource path="res://icons/arrow-cursor.png" type="Texture" id=6]
[ext_resource path="res://icons/trash-can.png" type="Texture" id=7]
[ext_resource path="res://icons/anticlockwise-rotation.png" type="Texture" id=8]
[ext_resource path="res://icons/clockwise-rotation.png" type="Texture" id=9]
[ext_resource path="res://icons/contract.png" type="Texture" id=10]
[ext_resource path="res://icons/expand.png" type="Texture" id=11]
[ext_resource path="res://icons/cancel.png" type="Texture" id=12]
[ext_resource path="res://icons/save.png" type="Texture" id=13]
[ext_resource path="res://icons/load.png" type="Texture" id=14]
[ext_resource path="res://icons/exit-door.png" type="Texture" id=15]

[node name="ship_editor" type="Node2D"]

script/script = ExtResource( 1 )

[node name="camera_2d" type="Camera2D" parent="."]

transform/pos = Vector2( 500, 300 )
anchor_mode = 1
rotating = false
current = true
zoom = Vector2( 1, 1 )
limit/left = -10000000
limit/top = -10000000
limit/right = 10000000
limit/bottom = 10000000
limit/smoothed = false
drag_margin/h_enabled = false
drag_margin/v_enabled = false
smoothing/enable = false
smoothing/speed = 5.0
drag_margin/left = 0.2
drag_margin/top = 0.21
drag_margin/right = 0.2
drag_margin/bottom = 0.2

[node name="grid" type="Node2D" parent="."]

script/script = ExtResource( 2 )

[node name="cursor" type="Sprite" parent="grid"]

texture = ExtResource( 3 )

[node name="parallax_bg" type="ParallaxBackground" parent="grid"]

layer = -1
offset = Vector2( 0, 0 )
rotation = 0.0
scale = Vector2( 1, 1 )
scroll/offset = Vector2( 0, 0 )
scroll/base_offset = Vector2( 0, 0 )
scroll/base_scale = Vector2( 1, 1 )
scroll/limit_begin = Vector2( 0, 0 )
scroll/limit_end = Vector2( 0, 0 )
scroll/ignore_camera_zoom = false

[node name="parallax_layer" type="ParallaxLayer" parent="grid/parallax_bg"]

motion/scale = Vector2( 1, 1 )
motion/offset = Vector2( 0, 0 )
motion/mirroring = Vector2( 1000, 600 )

[node name="texture_frame" type="TextureFrame" parent="grid/parallax_bg/parallax_layer"]

focus/ignore_mouse = true
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 0.0
margin/right = 1000.0
margin/bottom = 600.0
texture = ExtResource( 4 )
stretch_mode = 2

[node name="canvas_layer" type="CanvasLayer" parent="."]

layer = 1
offset = Vector2( 0, 0 )
rotation = 0.0
scale = Vector2( 1, 1 )

[node name="ui" type="Control" parent="canvas_layer"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 0.0
margin/top = 0.0
margin/right = 40.0
margin/bottom = 40.0

[node name="tab_container" type="TabContainer" parent="canvas_layer/ui"]

rect/min_size = Vector2( 150, 600 )
focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 3
size_flags/vertical = 3
margin/left = 0.0
margin/top = 0.0
margin/right = 78.0
margin/bottom = 600.0
tab_align = 0
tabs_visible = true

[node name="Tiles" parent="canvas_layer/ui/tab_container" instance=ExtResource( 5 )]

anchor/right = 1
anchor/bottom = 1
margin/left = 4.0
margin/top = 32.0
margin/right = 4.0
margin/bottom = 4.0

[node name="Misc" parent="canvas_layer/ui/tab_container" instance=ExtResource( 5 )]

visibility/visible = false
anchor/right = 1
anchor/bottom = 1
margin/left = 4.0
margin/top = 32.0
margin/right = 4.0
margin/bottom = 4.0
list_node_path = "/root/ship_editor"
list_name = "MiscButtonList"

[node name="editor_command_panel_container" type="PanelContainer" parent="canvas_layer/ui"]

editor/display_folded = true
focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 450.0
margin/top = 0.0
margin/right = 1000.0
margin/bottom = 52.0

[node name="panel" type="Panel" parent="canvas_layer/ui/editor_command_panel_container"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 3
size_flags/vertical = 3
margin/left = 7.0
margin/top = 7.0
margin/right = 543.0
margin/bottom = 45.0

[node name="h_box_container" type="HBoxContainer" parent="canvas_layer/ui/editor_command_panel_container"]

editor/display_folded = true
focus/ignore_mouse = false
focus/stop_mouse = false
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 7.0
margin/top = 7.0
margin/right = 543.0
margin/bottom = 45.0
alignment = 1

[node name="select_button" type="Button" parent="canvas_layer/ui/editor_command_panel_container/h_box_container"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 2.0
margin/top = 0.0
margin/right = 46.0
margin/bottom = 38.0
toggle_mode = true
enabled_focus_mode = 2
shortcut = null
icon = ExtResource( 6 )
flat = false

[node name="erase_button" type="Button" parent="canvas_layer/ui/editor_command_panel_container/h_box_container"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 50.0
margin/top = 0.0
margin/right = 94.0
margin/bottom = 38.0
toggle_mode = true
enabled_focus_mode = 2
shortcut = null
icon = ExtResource( 7 )
flat = false

[node name="v_separator_7" type="VSeparator" parent="canvas_layer/ui/editor_command_panel_container/h_box_container"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 98.0
margin/top = 0.0
margin/right = 101.0
margin/bottom = 38.0

[node name="v_separator_8" type="VSeparator" parent="canvas_layer/ui/editor_command_panel_container/h_box_container"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 105.0
margin/top = 0.0
margin/right = 108.0
margin/bottom = 38.0

[node name="undo_button" type="Button" parent="canvas_layer/ui/editor_command_panel_container/h_box_container"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 112.0
margin/top = 0.0
margin/right = 156.0
margin/bottom = 38.0
disabled = true
toggle_mode = false
enabled_focus_mode = 2
shortcut = null
icon = ExtResource( 8 )
flat = false

[node name="redo_button" type="Button" parent="canvas_layer/ui/editor_command_panel_container/h_box_container"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 160.0
margin/top = 0.0
margin/right = 204.0
margin/bottom = 38.0
disabled = true
toggle_mode = false
enabled_focus_mode = 2
shortcut = null
icon = ExtResource( 9 )
flat = false

[node name="v_separator_1" type="VSeparator" parent="canvas_layer/ui/editor_command_panel_container/h_box_container"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 208.0
margin/top = 0.0
margin/right = 211.0
margin/bottom = 38.0

[node name="v_separator_2" type="VSeparator" parent="canvas_layer/ui/editor_command_panel_container/h_box_container"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 215.0
margin/top = 0.0
margin/right = 218.0
margin/bottom = 38.0

[node name="zoom_in_button" type="Button" parent="canvas_layer/ui/editor_command_panel_container/h_box_container"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 222.0
margin/top = 0.0
margin/right = 266.0
margin/bottom = 38.0
toggle_mode = false
enabled_focus_mode = 2
shortcut = null
icon = ExtResource( 10 )
flat = false

[node name="zoom_out_button" type="Button" parent="canvas_layer/ui/editor_command_panel_container/h_box_container"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 270.0
margin/top = 0.0
margin/right = 314.0
margin/bottom = 38.0
toggle_mode = false
enabled_focus_mode = 2
shortcut = null
icon = ExtResource( 11 )
flat = false

[node name="reset_zoom_button" type="Button" parent="canvas_layer/ui/editor_command_panel_container/h_box_container"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 318.0
margin/top = 0.0
margin/right = 362.0
margin/bottom = 38.0
toggle_mode = false
enabled_focus_mode = 2
shortcut = null
icon = ExtResource( 12 )
flat = false

[node name="v_separator_3" type="VSeparator" parent="canvas_layer/ui/editor_command_panel_container/h_box_container"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 366.0
margin/top = 0.0
margin/right = 369.0
margin/bottom = 38.0

[node name="v_separator_5" type="VSeparator" parent="canvas_layer/ui/editor_command_panel_container/h_box_container"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 373.0
margin/top = 0.0
margin/right = 376.0
margin/bottom = 38.0

[node name="save_button" type="Button" parent="canvas_layer/ui/editor_command_panel_container/h_box_container"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 380.0
margin/top = 0.0
margin/right = 424.0
margin/bottom = 38.0
toggle_mode = false
enabled_focus_mode = 2
shortcut = null
icon = ExtResource( 13 )
flat = false

[node name="load_button" type="Button" parent="canvas_layer/ui/editor_command_panel_container/h_box_container"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 428.0
margin/top = 0.0
margin/right = 472.0
margin/bottom = 38.0
toggle_mode = false
enabled_focus_mode = 2
shortcut = null
icon = ExtResource( 14 )
flat = false

[node name="v_separator_6" type="VSeparator" parent="canvas_layer/ui/editor_command_panel_container/h_box_container"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 476.0
margin/top = 0.0
margin/right = 479.0
margin/bottom = 38.0

[node name="v_separator_4" type="VSeparator" parent="canvas_layer/ui/editor_command_panel_container/h_box_container"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 483.0
margin/top = 0.0
margin/right = 486.0
margin/bottom = 38.0

[node name="exit_button" type="Button" parent="canvas_layer/ui/editor_command_panel_container/h_box_container"]

focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = 490.0
margin/top = 0.0
margin/right = 534.0
margin/bottom = 38.0
toggle_mode = false
enabled_focus_mode = 2
shortcut = null
icon = ExtResource( 15 )
flat = false

[node name="save_file_dialog" type="FileDialog" parent="canvas_layer/ui"]

visibility/visible = false
anchor/left = 3
anchor/top = 3
anchor/right = 3
anchor/bottom = 3
rect/min_size = Vector2( 400, 400 )
focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = -300.0
margin/top = -100.0
margin/right = -700.0
margin/bottom = -500.0
popup/exclusive = true
window/title = "Save a File"
dialog/hide_on_ok = false
mode = 4
access = 1
filters = StringArray(  )
show_hidden_files = true

[node name="load_file_dialog" type="FileDialog" parent="canvas_layer/ui"]

visibility/visible = false
anchor/left = 3
anchor/top = 3
anchor/right = 3
anchor/bottom = 3
rect/min_size = Vector2( 400, 400 )
focus/ignore_mouse = false
focus/stop_mouse = true
size_flags/horizontal = 2
size_flags/vertical = 2
margin/left = -300.0
margin/top = -100.0
margin/right = -700.0
margin/bottom = -500.0
popup/exclusive = true
window/title = "Open a File"
dialog/hide_on_ok = false
mode = 0
access = 1
filters = StringArray(  )
show_hidden_files = true

[connection signal="redo_history_empty" from="grid" to="." method="_on_grid_redo_history_empty"]

[connection signal="redo_history_not_empty" from="grid" to="." method="_on_grid_redo_history_not_empty"]

[connection signal="undo_history_empty" from="grid" to="." method="_on_grid_undo_history_empty"]

[connection signal="undo_history_not_empty" from="grid" to="." method="_on_grid_undo_history_not_empty"]

[connection signal="button_clicked" from="canvas_layer/ui/tab_container/Tiles" to="." method="_on_Tiles_button_clicked"]

[connection signal="pressed" from="canvas_layer/ui/editor_command_panel_container/h_box_container/select_button" to="." method="_on_select_button_pressed"]

[connection signal="pressed" from="canvas_layer/ui/editor_command_panel_container/h_box_container/erase_button" to="." method="_on_erase_button_pressed"]

[connection signal="pressed" from="canvas_layer/ui/editor_command_panel_container/h_box_container/undo_button" to="." method="_on_undo_button_pressed"]

[connection signal="pressed" from="canvas_layer/ui/editor_command_panel_container/h_box_container/redo_button" to="." method="_on_redo_button_pressed"]

[connection signal="pressed" from="canvas_layer/ui/editor_command_panel_container/h_box_container/zoom_in_button" to="." method="_on_zoom_in_button_pressed"]

[connection signal="pressed" from="canvas_layer/ui/editor_command_panel_container/h_box_container/zoom_out_button" to="." method="_on_zoom_out_button_pressed"]

[connection signal="pressed" from="canvas_layer/ui/editor_command_panel_container/h_box_container/reset_zoom_button" to="." method="_on_reset_zoom_button_pressed"]

[connection signal="pressed" from="canvas_layer/ui/editor_command_panel_container/h_box_container/save_button" to="." method="_on_save_button_pressed"]

[connection signal="pressed" from="canvas_layer/ui/editor_command_panel_container/h_box_container/load_button" to="." method="_on_load_button_pressed"]

[connection signal="pressed" from="canvas_layer/ui/editor_command_panel_container/h_box_container/exit_button" to="." method="_on_exit_button_pressed"]

[connection signal="file_selected" from="canvas_layer/ui/save_file_dialog" to="." method="_on_file_dialog_file_selected"]

[connection signal="file_selected" from="canvas_layer/ui/load_file_dialog" to="." method="_on_load_file_dialog_file_selected"]


